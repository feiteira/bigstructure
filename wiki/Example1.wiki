#summary Example of a very simple client application using the core service 'echo'

= Introduction =

Sample of code using core services.

`DemoClient.groovy:`
{{{
import org.feiteira.bigstructure.BigSClient
import org.feiteira.bigstructure.core.EchoRequest
import org.feiteira.bigstructure.core.EchoResponse

class DemoClient extends BigSClient {
	@Override
	public void Main() {
		ensureHost("/echo");// ensures that the host node /<id>/echo exists
		requestEPU("/echo");// requests a EPU (or takes the current one if already available)
		
		sleep(2500);// waitForEPU
			
		//takes some arguments
		int count = arguments[1].toInteger()
		String value = arguments[2]
		
		EchoResponse out;
		while(count>0){
			send("/echo", new EchoRequest(value));
			out = read("/echo");		
			printf "[%d]ECHO: %s\n" , [count,out.getValue()] as Object[]
			count--;
			sleep 1000
		}			
	}
}
}}}

Command line: `java -jar BigSTRUCTURE-0.4.jar Client DemoClient.groovy 10 Test!`


Output:
{{{
[10]ECHO: Test!Test!
[9]ECHO: Test!Test!
[8]ECHO: Test!Test!
[7]ECHO: Test!Test!
[6]ECHO: Test!Test!
[5]ECHO: Test!Test!
[4]ECHO: Test!Test!
[3]ECHO: Test!Test!
[2]ECHO: Test!Test!
[1]ECHO: Test!Test!

}}}